# 今後の実装計画 - 機能追加アイディア

## ビジネスモデル

- **簡易診断モード**: 無料版（プロモーション用）
- **詳細診断モード**: 有料版

この前提で、無料版から有料版への導線を作りつつ、有料版の価値を高める機能を段階的に実装する。

---

## 簡易診断モード（無料・プロモーション用）

### 基本機能（現状維持）
- SPIN質問生成
- AI顧客との対話
- 基本的なスコアリング
- 簡易レポート表示

### 制限・導線機能（追加実装）

#### 1. 診断回数制限機能
- **仕様**: 無料版ユーザーは月3回まで診断可能
- **実装内容**:
  - `User`モデルにサブスクリプション情報を追加
  - 診断回数のカウント機能
  - 残り回数の表示
  - 制限到達時の有料版への誘導

#### 2. レポート保存期間の制限
- **仕様**: 無料版のレポートは30日間のみ保存
- **実装内容**:
  - レポートの自動削除機能
  - 保存期間の表示
  - 有料版へのアップグレード誘導

#### 3. ランキング表示の制限
- **仕様**: 簡易診断のランキングのみ表示可能
- **実装内容**:
  - 詳細診断ランキングは有料版のみ
  - ランキング画面に有料版への誘導バナー

#### 4. 有料版へのアップグレード誘導
- **仕様**: 適切なタイミングで有料版の紹介
- **実装内容**:
  - 診断完了時のモーダル表示
  - ランキング上位時の提案
  - 一定回数利用後のトライアル提案
  - ヘッダーに有料版へのリンク

#### 5. 詳細診断のプレビュー機能
- **仕様**: 無料版ユーザーに詳細診断の一部を体験させる
- **実装内容**:
  - 企業情報スクレイピングのデモ
  - リアルタイム成功率分析のデモ
  - 機能紹介モーダル

### 追加提案（無料版の価値向上）

#### 1. チュートリアル・ガイド機能
- SPINメソッドの基礎解説
- 使い方ガイド
- サンプル質問の閲覧

#### 2. 簡易版の成長グラフ
- 直近3回分のスコア推移
- 有料版では全期間のグラフが表示されることを明示

---

## 詳細診断モード（有料版）

### コア機能（現状）
- 企業情報スクレイピング
- SPIN適合性分析
- リアルタイム成功率分析
- 詳細スコアリング
- 詳細レポート

### 有料版の価値を高める追加機能

#### Phase 1: 基本機能強化（優先度：高）

##### 1. 個人ダッシュボード
- **目的**: ユーザーの成長を可視化し、継続利用を促進
- **機能**:
  - スキル成長グラフ（全期間のスコア推移）
  - SPIN各要素（S/P/I/N）のスコア推移
  - 成功率トレンド分析
  - 週間/月間の診断回数と平均スコア
  - 改善ポイントの可視化
- **実装**:
  - バックエンド: ダッシュボード用の集計API
  - フロントエンド: グラフ表示ライブラリ（Chart.js等）を使用

##### 2. 詳細分析レポート（PDF/Excelエクスポート）
- **目的**: レポートの保存・共有を容易にする
- **機能**:
  - PDF形式でのレポートエクスポート
  - Excel形式でのデータエクスポート
  - 会話履歴の含まれた詳細レポート
- **実装**:
  - バックエンド: ReportLabまたはWeasyPrintでPDF生成
  - openpyxlでExcel生成

##### 3. 弱点分析と改善提案
- **目的**: ユーザーの学習効果を向上させる
- **機能**:
  - SPIN各要素の弱点自動分析
  - 過去の会話から改善パターンの抽出
  - 具体的な質問例の提案
  - 類似成功事例の提示
- **実装**:
  - OpenAI APIを使用した分析
  - 過去のセッションデータとの比較

#### Phase 2: 実践的な機能（優先度：中）

##### 4. ケーススタディライブラリ
- **目的**: 実在企業のケースでより実践的な練習を可能にする
- **機能**:
  - 業界別の実在企業ケース（匿名化）
  - 成功事例・失敗事例の分析
  - ケースごとの最適なアプローチ
  - ケースの検索・フィルタリング
- **実装**:
  - 新しいモデル: `CaseStudy`
  - ケース管理用の管理画面
  - ケース選択UI

##### 5. 多様な顧客パーソナリティ
- **目的**: 様々な顧客タイプに対応できるスキルを養う
- **機能**:
  - 性格タイプ（慎重型、積極型、技術重視型など）
  - 業界別の典型的な顧客像
  - 難易度設定（初心者向け〜上級者向け）
- **実装**:
  - `Session`モデルに`customer_personality`フィールドを追加
  - OpenAIプロンプトにパーソナリティ情報を追加

##### 6. シナリオモード
- **目的**: 特定の課題に特化した練習を可能にする
- **機能**:
  - 事前定義された商談シナリオ
  - 段階的な難易度設定
  - 特定の課題に特化した練習
- **実装**:
  - 新しいモデル: `Scenario`
  - シナリオ管理用の管理画面

#### Phase 3: ソーシャル・競争機能（優先度：中）

##### 7. チーム機能
- **目的**: 組織での導入を促進し、継続利用を増やす
- **機能**:
  - チーム作成・参加
  - チーム内ランキング
  - チーム平均スコアの可視化
  - チームチャレンジ（期間限定）
- **実装**:
  - 新しいモデル: `Team`, `TeamMember`
  - チーム管理API
  - チームダッシュボード

##### 8. コミュニティ機能
- **目的**: ユーザー間の交流を促進し、学習効果を高める
- **機能**:
  - 成功事例の共有
  - 質問テンプレートの共有
  - 業界別ベストプラクティス
  - ユーザー間のコメント・フィードバック
- **実装**:
  - 新しいモデル: `SharedCase`, `Template`, `Comment`
  - コミュニティ用のAPI

##### 9. マルチプレイヤー対戦
- **目的**: ゲーミフィケーション要素で楽しさを提供
- **機能**:
  - 同じ企業情報で複数ユーザーが競う
  - リアルタイム対戦モード
  - 勝敗判定とポイントシステム
- **実装**:
  - WebSocketを使用したリアルタイム通信
  - 対戦マッチングシステム

#### Phase 4: AI機能の強化（優先度：低）

##### 10. リアルタイムヒント機能
- **目的**: 会話中に適切なアドバイスを提供
- **機能**:
  - 会話中にAIが質問のヒントを提示
  - 次のステップの提案
  - タイミングの最適化アドバイス
- **実装**:
  - チャット画面にヒント表示エリア
  - OpenAI APIを使用したヒント生成

##### 11. 会話の録音・音声入力
- **目的**: より自然な商談練習を可能にする
- **機能**:
  - 音声入力でより自然な商談練習
  - 会話の録音と後から聞き返し
  - 話し方の分析（速度、間、トーン）
- **実装**:
  - Web Speech APIを使用
  - 音声ファイルの保存・再生機能

#### Phase 5: 統合機能（優先度：低）

##### 12. CRM連携
- **目的**: 実際の営業活動と連携して価値を高める
- **機能**:
  - Salesforce、HubSpotなどとの連携
  - 実際の商談データとの連携
  - 練習結果のCRMへの反映
- **実装**:
  - OAuth認証
  - CRM APIとの連携

##### 13. スケジューラー連携
- **目的**: 練習の習慣化を促進
- **機能**:
  - Google Calendar連携
  - 練習スケジュールの管理
  - リマインダー機能
- **実装**:
  - Google Calendar APIとの連携

---

## 有料版のプラン設計案

### プラン1: ベーシック（月額制）
- **価格**: 月額2,980円（想定）
- **機能**:
  - 詳細診断：月10回まで
  - 基本レポート機能
  - 個人ダッシュボード
  - 弱点分析

### プラン2: プロフェッショナル（月額制）
- **価格**: 月額9,800円（想定）
- **機能**:
  - 詳細診断：無制限
  - 全レポート機能（PDF/Excelエクスポート）
  - ケーススタディライブラリ
  - チーム機能
  - CRM連携

### プラン3: エンタープライズ（年額制）
- **価格**: 年額198,000円（想定）
- **機能**:
  - 全機能
  - カスタム企業情報の追加
  - 専用サポート
  - オンプレミス対応（オプション）

---

## 無料版から有料版への導線

### 1. 機能制限による導線
- 診断回数制限の表示
- 詳細診断のプレビュー表示
- 有料版の機能紹介モーダル

### 2. 価値提示による導線
- 無料版での成果を可視化
- 有料版での改善予測を表示
- 成功事例の紹介

### 3. タイミング最適化
- 診断完了時に有料版の紹介
- ランキング上位時に有料版の提案
- 一定回数利用後にトライアル提案

---

## 実装優先度（MVP+）

### Phase 1: 無料版の制限機能（最優先）
1. **診断回数制限の実装**
   - `User`モデルにサブスクリプション情報を追加
   - 診断回数のカウント機能
   - 残り回数の表示
   - 制限到達時の有料版への誘導

2. **有料版への導線UI追加**
   - 診断完了時のモーダル表示
   - ランキング画面への誘導バナー
   - ヘッダーに有料版へのリンク

3. **無料版の機能紹介強化**
   - 詳細診断のプレビュー機能
   - 機能紹介モーダル

### Phase 2: 有料版の基本機能強化（高優先度）
1. **個人ダッシュボード**
   - スキル成長グラフ
   - SPIN各要素のスコア推移
   - 成功率トレンド分析

2. **詳細分析レポート（PDFエクスポート）**
   - PDF形式でのレポートエクスポート
   - 会話履歴の含まれた詳細レポート

3. **弱点分析と改善提案**
   - SPIN各要素の弱点自動分析
   - 具体的な質問例の提案

### Phase 3: 有料版の高度機能（中優先度）
1. **ケーススタディライブラリ**
   - 業界別の実在企業ケース
   - 成功事例・失敗事例の分析

2. **チーム機能**
   - チーム作成・参加
   - チーム内ランキング

3. **CRM連携**
   - Salesforce、HubSpotなどとの連携

---

## 技術的な実装考慮事項

### サブスクリプション管理
- **推奨サービス**: Stripe、PayPal、または日本の決済サービス（PayPal、Stripe Japan）
- **実装内容**:
  - `User`モデルに`subscription_type`フィールドを追加
  - `subscription_expires_at`フィールドで有効期限を管理
  - 決済APIとの連携

### データモデルの拡張
- `User`モデルに以下を追加:
  - `subscription_type`: サブスクリプションタイプ（free/basic/professional/enterprise）
  - `subscription_expires_at`: サブスクリプション有効期限
  - `diagnosis_count_this_month`: 今月の診断回数
  - `last_diagnosis_date`: 最終診断日

### アクセス制御
- 各APIエンドポイントでサブスクリプションタイプをチェック
- 無料版ユーザーは詳細診断モードへのアクセスを制限
- 診断回数制限のチェック

### パフォーマンス最適化
- ダッシュボードの集計処理はキャッシュを活用
- レポート生成は非同期処理を検討
- 大量データの処理にはページネーションを実装

---

## マーケティング・プロモーション施策

### 無料版での体験価値向上
- チュートリアル・ガイド機能
- SPINメソッドの基礎解説
- サンプル質問の閲覧

### 有料版への転換促進
- 無料版での成果を可視化
- 有料版での改善予測を表示
- 成功事例の紹介
- 限定オファー（初月無料など）

---

## 今後の検討事項

1. **決済システムの選定**
   - 日本の決済サービスとの連携
   - サブスクリプション管理の仕組み

2. **価格設定の最適化**
   - 市場調査に基づく価格設定
   - A/Bテストによる最適価格の検証

3. **機能の優先順位の再評価**
   - ユーザーフィードバックに基づく優先順位の調整
   - 市場ニーズの変化に対応

4. **スケーラビリティの考慮**
   - 大量ユーザーへの対応
   - データベースの最適化
   - キャッシュ戦略の見直し

---

## 参考資料

- [モード選択機能の設計仕様](./MODE_SELECTION_DESIGN.md)
- [詳細診断モード - 商談成功率リアルタイム分析](./SUCCESS_PROBABILITY_ANALYSIS.md)
- [開発進捗状況](./DEVELOPMENT_STATUS.md)



