# ログビューアー使用ガイド

## ログビューアーの開き方

### 方法1: 画面右下のボタンから
1. ブラウザでSalesMindアプリを開く
2. 画面の**右下**に「**📋**」というアイコンのボタンがあります
3. このボタンを**クリック**すると、ログビューアーが画面下部から表示されます

### 方法2: 開発者ツールのコンソールから
1. ブラウザの開発者ツールを開く（**F12**キー、または右クリック→「検証」）
2. **Console（コンソール）**タブを開く
3. コンソールに以下のコマンドを入力してEnterキーを押す：
   ```javascript
   window.logViewer.toggle()
   ```

## ログビューアーの使い方

### ログの確認
- ログビューアーを開くと、すべてのログが最新順に表示されます
- 各ログには以下の情報が含まれます：
  - **タイムスタンプ**: ログが記録された時刻
  - **レベル**: Info（情報）、Warning（警告）、Error（エラー）、Debug（デバッグ）
  - **メッセージ**: ログの内容
  - **データ**: 詳細な情報（JSON形式で表示）

### フィルター機能
ログビューアーの上部にチェックボックスがあります：
- ☑ **Info**: 情報レベルのログを表示
- ☑ **Warning**: 警告レベルのログを表示
- ☑ **Error**: エラーレベルのログを表示
- ☑ **Debug**: デバッグレベルのログを表示

チェックを外すと、そのレベルのログが非表示になります。

### ログのエクスポート
1. ログビューアーを開く
2. 上部の「**エクスポート**」ボタンをクリック
3. JSON形式のファイルがダウンロードされます
4. このファイルを開くと、すべてのログを確認できます

### ログのクリア
1. ログビューアーを開く
2. 上部の「**クリア**」ボタンをクリック
3. 確認ダイアログで「OK」をクリック
4. すべてのログが削除されます

### ログビューアーを閉じる
- 上部の「**閉じる**」ボタンをクリック
- または、もう一度📋ボタンをクリック

## トラブルシューティング

### 📋ボタンが見つからない場合
1. ページをリロード（F5キー）
2. ブラウザのウィンドウサイズを確認（小さすぎると見えない場合があります）
3. 開発者ツール（F12）のコンソールで `window.logViewer.toggle()` を実行

### ログが表示されない場合
1. ブラウザの開発者ツール（F12）を開く
2. Consoleタブを開く
3. エラーメッセージがないか確認
4. 以下のコマンドでロガーの状態を確認：
   ```javascript
   console.log(window.logger);
   console.log(window.logViewer);
   ```

## SPIN質問生成が空の場合の確認方法

1. **ログビューアーを開く**（📋ボタン）
2. **Debug**と**Error**のログを確認
3. 以下のログを探す：
   - "レスポンステキストを取得" - レスポンスの内容を確認
   - "JSON解析成功" - データが正しく解析できているか
   - "質問データを検出" - 質問データが存在するか
   - "displaySpinQuestions called with" - 表示関数が呼ばれているか
4. **エラーログ**があれば、その内容を確認

## ログの記録内容

ログビューアーには以下の情報が記録されます：

- **APIリクエスト**: 送信したリクエストの内容
- **APIレスポンス**: 受信したレスポンスの内容
- **エラー情報**: 発生したエラーの詳細
- **ユーザー操作**: ログイン、登録、セッション開始など
- **デバッグ情報**: 処理の各ステップの状態

